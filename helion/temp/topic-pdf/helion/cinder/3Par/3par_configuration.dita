<?xml version="1.0" encoding="utf-8"?><?workdir /C:\Users\sharmabi\git\documentation\helion\temp\topic-pdf\helion\cinder\3Par?><?workdir-uri file:/C:/Users/sharmabi/git/documentation/helion/temp/topic-pdf/helion/cinder/3Par/?><?path2project ..\..\?><?path2project-uri ../../?><topic xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" id="topic_vln_2xy_ht" ditaarch:DITAArchVersion="1.2" domains="(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)    " class="- topic/topic " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="topic:1;3:30">
  <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="title:1;4:10">3PAR Configuration</title>
  <body class="- topic/body " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="body:1;5:9">
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="p:1;6:8">This page describes the configuration of HP 3PAR StoreServ Fibre Channel (FC) or iSCSI
      storage devices as a Cinder backend. Once the backend is configured you can create and
      validate the volume.</p>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="section:1;9:14">
      <title id="preq" class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="title:2;10:24">Prerequisite</title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="p:2;11:10">
        <ul id="ul_pfl_bbz_ht" class="- topic/ul " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="ul:1;12:32">
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:1;13:15">HP Helion Cloud must be successfully deployed.
            <!--It should be up and running.--></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:2;15:15">3PAR  Storage Array should be available in cloud management network or routed to cloud
            management network and 3PAR FC and iSCSI ports configured.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:3;17:15">3PAR management IP and iSCSI port IP's must have connectivity from controller and
            compute nodes.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:4;19:15">Please refer the system requirements for 3PAR in Openstack configuration guide.</li>
        </ul>
      </p>
    </section>
    <section id="configure-3par-fc" class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="section:2;23:37">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="title:3;24:14">Configure 3PAR FC as Cinder backend</title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="p:3;25:10">You must modify <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:1;25:34">cinder.conf.j2</codeph> to configure FC details.</p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="p:4;26:10">Perform the following steps to configure 3PAR FC as Cinder backend:<ol id="ol_dj2_qcz_ht" class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="ol:1;26:100">
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:5;27:15">Login to deployer node.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:6;28:15">Change the directory as shown below:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:1;28:62">cd ~/helion</codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:7;29:15">Edit <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:2;29:28">cinder.conf.j2</codeph> file at
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:3;30:23">my_cloud/config/cinder/cinder.conf.j2</codeph> to add 3PAR FC backend:</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:8;31:15">Modify enabled_backends section in <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:4;31:58">cinder.conf.j2</codeph> as shown in the
            following example:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:2;32:42">enabled_backends=3par_FC</codeblock><note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="note:1;32:84">Append this
              change with the exiting backend, if you have already added VSA as backend.</note></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:9;34:15">Copy 3PAR FC section, uncomment it, and modify the values in the
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:5;35:23">cinder.conf.j2</codeph> file as shown in the following
              example:<codeblock id="3par-fc" xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:3;36:47">[3par_FC]
hp3par_api_url=https://10.1.192.10:8080/api/v1
hp3par_username=helionadmin
hp3par_password=helion
hp3par_cpg=FC_r5,FC_r1
san_ip=10.1.192.10
san_login=helionadmin
san_password=helion
volume_driver=cinder.volume.drivers.san.hp.hp_3par_fc.HP3PARFCDriver
volume_backend_name=3par_FC</codeblock><note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="note:2;45:46">
              Please enter the values which are specific to your environment. </note></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:10;47:15">Commit your configuration to a <xref href="../../using_git.dita#topic_u3v_1yz_ct" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="xref:1;48:16" type="topic"><?ditaot usertext?>local
              repository</xref>:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:4;49:44">cd ~/helion/hos/ansible
git add -A
git commit -m "&lt;commit message&gt;"</codeblock><note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="note:3;51:54">
              Enter your commit message &lt;commit message&gt;</note></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:11;53:15">Run the configuration
            processor:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:5;54:34">cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:12;56:15">Run the following command to create a deployment
            directory.<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:6;57:34"><codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:6;57:42">ansible-playbook -i hosts/localhost ready-deployment.yml</codeph></codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:13;58:15">Run the following command to configure 3PAR FC as a Cinder backend.
            <codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:7;59:24">cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts cinder-reconfigure.yml</codeblock></li>
        </ol></p>
    </section>
    <section class="- topic/section " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="section:3;63:14">
      <title class="- topic/title " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="title:4;64:14">Configure 3PAR iSCSI as Cinder backend</title>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="p:5;65:10">You must modify <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:7;65:34">cinder.conf.j2</codeph> to configure iSCSI details.</p>
      <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="p:6;66:10">
        <ol class="- topic/ol " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="ol:2;67:13">
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:14;68:15">Login to deployer node.</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:15;69:15">Change the directory as shown below:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:8;69:62">cd ~/helion</codeblock></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:16;70:15">Edit <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:8;70:28">cinder.conf.j2</codeph> file at
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:9;71:23">my_cloud/config/cinder/cinder.conf.j2</codeph> to add 3PAR iSCSI backend:</li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:17;72:15">Modify enabled_backends section in <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:10;72:58">cinder.conf.j2</codeph> as shown in the
            following example:<codeblock xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:9;73:42">enabled_backends=3par_iSCSI</codeblock><note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="note:4;73:87">Append this
              change with the exiting backend, if you have already added VSA as backend.</note></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:18;75:15">Copy 3PAR iSCSI section, uncomment it, and modify the values in the
              <codeph class="+ topic/ph pr-d/codeph " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeph:11;76:23">cinder.conf.j2</codeph> file as shown in the following
              example:<codeblock id="3par-iscsi" xml:space="preserve" class="+ topic/pre pr-d/codeblock " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="codeblock:10;77:50">[3par_iSCSI]
hp3par_api_url=https://10.1.192.10:8080/api/v1
hp3par_username=helionadmin
hp3par_password=helion
hp3par_cpg=FC_r1
san_ip=10.1.192.10
san_login=helionadmin
san_password=helion
volume_driver=cinder.volume.drivers.san.hp.hp_3par_iscsi.HP3PARISCSIDriver
volume_backend_name=3par_iSCSI
iscsi_ip_address=172.32.0.9
hp3par_iscsi_chap_enabled=true</codeblock><note class="- topic/note " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="note:5;88:49">
              Please enter the values of all the paramters specific to your environment.
            </note></li>
          <li class="- topic/li " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="li:19;91:15">Execute the steps (<b class="+ topic/ph hi-d/b " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="b:1;91:37">5 -9</b>) mentioned in <xref href="#topic_vln_2xy_ht/configure-3par-fc" format="dita" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="xref:2;92:72" type="section"><?ditaot usertext?>Configure 3PAR FC as Cinder
              backend </xref> as mentioned above.</li>
        </ol>
      </p>
    </section>
    <p class="- topic/p " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="p:7;97:8">To verify the 3PAR FC and iSCSI  backends are configured successfully, please refer to <xref href="../verify_backend_configuration.dita#topic_q5q_trz_jt" class="- topic/xref " xtrf="C:\Users\sharmabi\git\documentation\helion\cinder\3Par\3par_configuration.dita" xtrc="xref:3;98:70" type="topic"><?ditaot usertext?>Verify Backend
        Configuration</xref>.</p>
  </body>
</topic>