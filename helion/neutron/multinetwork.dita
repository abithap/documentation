<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="HP2.0LBaaS">
  <title>HP Helion <tm tmtype="reg">OpenStack</tm> 2.0 Multiple External Network
    Configuration</title>
  <body>
    <p>HP Helion OpenStack 2.0 Multiple External Network Configuration</p>
    <p>This document describes the configuration process and requirements for the HP Helion
      OpenStack 2.0 Multiple External Network.</p>
    <p>  
      
      <ul id="LBaaSlist">
        <li><xref href="lbaas.dita#HP2.0LBaaS/Prerequisites">Prerequisites</xref></li>
        <li><xref href="lbaas.dita#HP2.0LBaaS/Configuration">Configuration</xref></li>
        <li><xref href="lbaas.dita#HP2.0LBaaS/MoreInfo">More Information</xref></li>
      </ul>
    </p>
    
    <section id="Prerequisites">
      <title>Prerequisites</title>
      <p>HP Helion OpenStack must be installed. </p>
      
    </section>
    <section id="Configuration">
      <title>Configuration</title>
      <p>HP Helion OpenStack 2.0 Multiple External Network Configuration</p>
      <p>Neutron provides the ability to have multiple external networks, by using neutron provider
        networks for external networks. HP Helion OpenStack 2.0 can be configured to allow use of 
        provider vlans as external neutron networks.
      </p>
      <ol>
        <li>Do not include the <i>neutron.l3_agent.external_network_bridge</i> tag in the<i>
            network_groups</i> definition for your cloud. This results in the <i>l3_agent.ini
            external_network_bridge</i> being set to an empty value (rather than the traditional
          "br-ex").</li>
        <li>Configure your cloud to use provider VLANs, by specifying the
            <i>neutron.provider_physical_network</i> tag on one of the <i>network_groups</i> defined
          for your cloud.</li>
      </ol>

      <p>As an example, run provider vlans over the GUEST network group.
        <codeblock>network-groups: 
   - name: GUEST 
   .
   .
   tags: 
     - neutron.provider_physical_network: physnet1</codeblock>
        
        After the cloud has been deployed, you can now create external networks using provider
        vlans. For example:
        <codeblock># create external network 1 on vlan101 
neutron net-create --provider:network_type vlan --provider:physical_network physnet1 --provider:segmentation_id 101 --router:external Ext-Net1
# create external network 2 on vlan102
neutron net-create --provider:network_type vlan --provider:physical_network physnet1 --provider:segmentation_id 102 --router:external Ext-Net2</codeblock>
      </p>
    </section>
    <section id="MoreInfo">
      <title>More Information</title>For more information on the neutron
      command-line interface (CLI), see the OpenStack networking command-line client reference:
        <xref href="http://docs.openstack.org/cli-reference/content/neutronclient_commands.html"
        scope="external" format="html"/></section>
  </body>
</topic>
