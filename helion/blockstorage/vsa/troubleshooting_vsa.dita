<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_jv4_q1t_tt">
  <title>HP Helion <tm tmtype="reg">OpenStack</tm> 2.0: Troubleshooting the VSA</title>
  <body>
    <p>You can use this guide to help you identify and resolve basic problems you may be
      experiencing with VSA. It contains following troubleshooting scenarios:</p>
    <section><b>Boot from volume fails, if you are using a separate iSCSI
          network</b><p><b>Description</b></p><p> If you are using a separate iSCSI network and that
        network is not associated with the
        controllers<!-- (now using the force_network_groups option)--> then boot from the volumes
        would fail.</p><p><b>Resolution</b><ol id="ol_g4m_wyn_5t">
          <li>Login in to the deployer node.</li>
          <li>Edit the following files at <codeph>~/helion/my_cloud/definition/data</codeph>  to be
            assign a separate iSCSI network to Controller nodes, Compute nodes, and VSA nodes:<ol
              id="ol_pz5_214_5t">
              <li><codeph>networks.yml</codeph>: Enter the name of the network-group as shown in the
                sample below. In the following sample, the name of the network-gropu is "ISCSI" and
                this name should remain consistent in other files
                too.<codeblock>- name: NET_ISCSI
  vlanid: 3287
  tagged-vlan: true
  cidr: 172.16.13.0/24 
  gateway-ip: 172.16.13.1 
  network-group: <b>ISCSI</b> </codeblock></li>
              <li><codeph>net_interfaces.yml</codeph>: A new field (forced-network-groups) is added
                in this file, as shown in the sample
                below.<codeblock> Interface-models
    - name: INTERFACE_SET_CONTROLLER
      network-interfaces:
        - name: BOND0
          device:
              name: bond0
          bond-data:
             options:
                 mode: "802.3ad"
                 miinon: 200
             provider: linux
             devices:
               - name: Port0_10G1
               - name: Port1_10G1
          network-groups:
            - MGMT
            - TENANT
          <b>forced-network-groups:
            - ISCSI</b></codeblock></li>
              <li><codeph>firewall_rules.yml</codeph><codeblock>firewall-rules
    - name: PING 
      network-groups:
      - MGMT
      - TENANT
      - EXTERNAL_API
      - <b>ISCSI</b>
      - SWIFT</codeblock></li>
              <li><codeph>network_groups.yml</codeph><codeblock>network-groups:
    - name: ISCSI
      hostname-suffix: iscsi
      component-endpoints:
        - vsa</codeblock></li>
              <li><codeph>server_groups.yml</codeph><codeblock>server_groups.yml
      networks:
#       Define the Global networks shared across all the Racks
        - NET_EXTERNAL_API
        - NET_EXTERNAL_VM
        - NET_TENANT
        - NET_MGMT
        - NET_SWIFT
        <b>- NET_ISCSI</b></codeblock></li>
            </ol></li>
          <li>Commit your
            changes.<codeblock>git add -A
git commit -m "Add Node &lt;name>"</codeblock></li>
          <li>Run the configuration
            processor:<codeblock>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost config-processor-run.yml</codeblock></li>
          <li>Run the following command to create a deployment
            directory.<codeblock>cd ~/helion/hos/ansible
ansible-playbook -i hosts/localhost ready-deployment.yml</codeblock></li>
          <li>Run the following
            playbook<codeblock>cd ~/scratch/ansible/next/hos/ansible
ansible-playbook -i hosts/verb_hosts site.yml </codeblock></li>
        </ol></p></section>
  </body>
</topic>
