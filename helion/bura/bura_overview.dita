<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="bura_overview">
  <title>Backup and Restore Overview</title>
  <body>
    <p>Freezer is a Backup, Restore, and Disaster Recovery as a Service platform that helps you
      automate the backup and restore process for your data. Freezer executes backups and restores
      as jobs, and executes these jobs independently and/or as managed sessions (multiple jobs in
      multiple machines sharing a state).</p>
    <p>In HP Helion <tm tmtype="reg">OpenStack</tm> Beta 1, you can backup the control plane
      services.</p>
    <p>The following features are supported:</p>
    <ul id="ul_pg4_5s3_dt">
      <li>Back up your file system using point in time snapshot.</li>
      <li>Strong encryption: AES-256-CFB.</li>
      <li>Back up your MySQL database with LVM snapshot.</li>
      <li>Restore your data from a specific date automatically to your file system.</li>
      <li>Low storage consumption: the backups are uploaded as a stream. </li>
      <li>Flexible backup policy (both incremental and differential). </li>
      <li>Data is archived in GNU Tar format for file-based incremental. </li>
      <li>Multiple compression algorithm support (zlib, bzip2, xz). </li>
      <li>Remove old backup automatically according the provided parameters. </li>
      <li>Multiple storage media support (Swift, local file system, SSH). </li>
      <li>Manage multiple jobs (multiple backups on the same node).</li>
      <li>Synchronize backups and restore on multiple nodes.</li>
      <li>Execute scripts/commands before or after a job execution.</li>
    </ul>
    <section>
      <title>Architecture</title>
      <p>Freezer uses GNU Tar under the hood to execute incremental backup and restore. When a key
        is provided, it uses OpenSSL to encrypt data (AES-256-CFB).</p>
      <p>Freezer architecture consists of the following components:</p>
      <table frame="all" rowsep="1" colsep="1" id="table_vkv_st3_dt">
        <title>Freezer Architecture</title>
        <tgroup cols="2" align="left">
          <colspec colname="c1" colnum="1" colwidth="123pt"/>
          <colspec colname="c2" colnum="2" colwidth="372.75pt"/>
          <thead>
            <row>
              <entry>Component</entry>
              <entry>Description</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry>Freezer Web UI</entry>
              <entry>Web interface that interacts with the Freezer API to configure and change
                settings. It provides most of the features from the freezerc CLI (command line
                interface), advanced scheduler settings as multi-node backup synchronization,
                metrics, and reporting.</entry>
            </row>
            <row>
              <entry>Freezer Scheduler</entry>
              <entry>A client side component running on the node from where the data backup is
                executed. It consists of a daemon that retrieves the data from the freezer API and
                executes jobs (that is, backups, restore, admin actions, info actions, and pre-
                and/or post- job scripts) by running the Freezer Agent. The metrics and exit codes
                returned by the Freezer Agent are captured and sent to the Freezer API. <p>The
                  scheduler manages the execution and synchronization of multiple jobs executed on a
                  single node or multiple nodes. The status of the execution of all the nodes is
                  saved through the API. </p>The Freezer scheduler takes care of uploading jobs to
                the API by reading job files on the file system. It also has its own configuration
                file where job sessions or other settings like the Freezer API polling interval can
                be configured.</entry>
            </row>
            <row>
              <entry>Freezer Agent </entry>
              <entry>Multiprocessing Python software that runs at the client side where the data
                backup is executed. It can be executed as a standalone or by the Freezer Scheduler.
                The freezerc provides a flexible way to execute backup, restore, and perform other
                actions on a running system. <p>To provide flexibility in terms of data integrity,
                  speed, performance, resources usage, and so on, the Freezer Agent offers a wide
                  range of options to execute optimized backup according the available resources,
                  such as: </p>
                <ul id="ul_o43_253_dt">
                  <li>Segments size (the amount of memory used) </li>
                  <li>Queues size (optimize backups where I/O, bandwidth, memory, or CPU is a
                    constraint) </li>
                  <li>I/O Affinity and process priority (can be used with real time I/O and maximum
                    user level process priority) </li>
                  <li>Bandwidth limitation</li>
                  <li>Client side Encryption (AES-256-CFB)</li>
                  <li>Compression (multiple algorithms supported as zlib, bzip2, xz/lzma)</li>
                  <li>Parallel upload to pluggable storage media (that is, upload backup to swift
                    and to a remote node by SSH, or upload to two or more independent swift
                    instances with different credentials, and so on) </li>
                  <li>Execute file-based incremental (like tar), block-based incremental (like rsync
                    algorithm), and differential-based backup and restore</li>
                  <li>Multiplatform; can be run on hLinux, Windows, *BSD, and OSX </li>
                  <li>Automatic removal of old backups</li>
                </ul></entry>
            </row>
            <row>
              <entry>Freezer API </entry>
              <entry>Used to store and provide metadata to the Freezer Web UI and to the Freezer
                Scheduler. Also used to store session information for multi node backup
                synchronization. Workload data is not stored in the API . </entry>
            </row>
            <row>
              <entry>DB Elasticsearch </entry>
              <entry>Backend used by the API to store and retrieve metrics metadata sessions
                information job status, and so on.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
    </section>
    <section id="diagram">
      <title>Diagram of the Backup Service</title>
      <p><image placement="break" href="../../media/bura/bura_diagram.png"/></p>
      <note>The Freezer Web UI Horizon Panels are NOT in Beta release.</note>
    </section>
    <section id="supporteddeployments"><title>Supported Cloud Deployments and Services</title>
      <p><b>Deployments</b></p>
      <ul>
        <li><xref href="../supportedconfigs.dita">Entry Scale Cloud</xref></li>
      </ul>
      <p><b>Services</b></p>
      <p>The following services will be included in the backup and restore service. The critical
        data that will be backed up are the databases and the configuration related files.
        Service-specific limitations are listed as well.</p>
      <ul>
        <li>Ceilometer - No backup of metrics data</li>
        <li>Cinder - No backup of the volumes</li>
        <li>Glance - No backup of the images</li>
        <li>Heat</li>
        <li>Horizon</li>
        <li>Keystone</li>
        <li>Neutron</li>
        <li>Nova - No backup of the images</li>
        <li>Swift - No backup of the objects</li>
        <li>Operations Console</li>
        <li>Monasca - No backup of the metrics</li>
        <li>MySQL Database</li>
      </ul>
    </section>
    <section>
      <title>Limitations</title>
      <ul id="ul_glx_gt3_dt">
        <li>Backup and Restore of the data on the control plane nodes were tested (Compute nodes and
          Deployer node backups are in the build, but not tested)</li>
        <li>Upgrade from HP Helion OpenStack 2.0 Beta 1 to HP Helion OpenStack 2.0 Beta 2 is not supported.</li>
        <li>ESX Cloud deployment is not supported.</li>
        <li>The Freezer Web UI Horizon panels are not in this release.</li>
        <li>No backup support for the following services: <ul>
            <li>Ceph</li>
            <li>Centralized Logging</li>
            <li>Network services - FWaaS, LBaaS, and VPNaaS</li>
          </ul>
        </li>
      </ul>
    </section>
  </body>
</topic>
