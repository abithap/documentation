<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_mrh_h1b_dt">
  <title><i>cf-mgmt</i> Example: Adding a service to a cluster</title>
  <body><simpletable><strow><stentry><xref href="cfmgmt_createcluster_microcloud.dita">&lt;- microcloud example</xref> </stentry><stentry>
    <xref href="cfmgmt_createcluster_twonode.dita">create a cluster example -&gt;</xref></stentry></strow></simpletable>
    <section>Creating big clusters using a single command is not recommended. To minimize the chance
      of errors, first create a small cluster and then expand it. </section>
    <p>This example demonstrates how to add a DEA and a service to a cluster that already
      exists. This will create a new VM with the service attached to it.</p>
    <ol id="ol_ccd_l1b_dt">
      <li>The following is an example on how to add a mysql service to your cluster. The example below is meant to show you how to create a bootstrap file. You can download the latest from (need link)
      
      <codeblock>file version: 1.2 
constructor-image-name: HP Helion Development Platform - Application Lifecycle Service Installer 1.2.0.282 
constructor-flavor: standard.xsmall 
seed-node-image-name: HP Helion Development Platform - Application Lifecycle Service Seed Node 1.2.0.282 
core-flavor: standard.medium 
cluster-title: &lt;My Cluster Title&gt; 
cluster-prefix: &lt;My Cluster Prefix&gt;
services-on-core: false 
flavor: standard.medium </codeblock></li>
      <li>Run the following set of commands.
        <codeblock>cf-mgmt.exe ^
   --os-auth-url &lt;auth-url&gt; ^
   --os-username &lt;username&gt; ^
   --os-password &lt;password&gt; ^ 
   --os-tenant-id &lt;id&gt; ^ 
   --os-tenant-name "&lt;tenant-name&gt;" ^
   --os-region-name "&lt;region-name&gt;" ^
add-service mysql ^
   --keypair-name &lt;keypair name&gt; ^
   --load bootstrap_service.yml ^</codeblock></li>
    </ol>
    <note>Please ensure the values for image names, image sizes and availability zones ("az") are
      valid for your current configuration.</note>
    
    Note: if you would like to add an existing Trove database, provide the --database-instance-id tag to attach it.
  </body>
</topic>
