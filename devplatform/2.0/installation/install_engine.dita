<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_gkq_fqy_rt">
  <title>Install the HP Helion Code Engine</title>
  <body>
    <section><title>Prerequisites</title>
 <ul>
      <li>Installing services requires that the HDP Installer 2.0, also known as HDPI, has already <xref href="devplatform_install_platform.dita#topic_gly_xmh_ts">been installed</xref>.</li>
      <li>The installer retrieves service configuration information from the <codeph>clouds.yaml</codeph> file. If you did not create a <codeph>clouds.yaml</codeph> file earlier, you can <xref
          href="install_cloudsyaml.dita#topic_wzw_r4w_rt">create one now</xref>.</li>
   
      <li>The HP Helion Code Engine also requires a code repository hosted on GitHub or a private
          server. <ol>
            <li>Open a github.com account or create a GitHub Enterprise server.</li>
            <li>Register a new OAUTH application in Github so that the HP Helion Code Engine can
              communicate with your version control provider. <ul>
                <li>Public Github: <xref href="https://github.com/settings/applications/new"
                    format="html" scope="external"
                    >https://github.com/settings/applications/new</xref></li>
                <li>Github Enterprise: https://&lt;hostname>/settings/applications/new </li>
              </ul></li>
          </ol></li>
      <li>The Helion Code Engine must also be registered before users can log in. <ol>
            <li>Enter values for the following fields. The secrets that describe your application
              should be in the <codeph>automation/ansible/templates/settings.json</codeph>
                file.<table frame="all" rowsep="1" colsep="1" id="table_bzl_jt5_st">
                <tgroup cols="3">
                  <colspec colname="c1" colnum="1" colwidth="1*"/>
                  <colspec colname="c2" colnum="2" colwidth="2.51*"/>
                  <colspec colname="c3" colnum="3" colwidth="1.75*"/>
                  <thead>
                    <row>
                      <entry>Field</entry>
                      <entry>Value</entry>
                      <entry>Example</entry>
                    </row>
                  </thead>
                  <tbody>
                    <row>
                      <entry>Application name</entry>
                      <entry>The name you'd like users to see when they authenticate with
                        Github</entry>
                      <entry>Helion Code Engine</entry>
                    </row>
                    <row>
                      <entry>Homepage URL </entry>
                      <entry> The public url to the web role hosting the UX.<note>If this is your
                          first time deploying to this cluster, you might have to run a deployment
                          first and then create the Github OAUTH app. </note></entry>
                      <entry>https://&lt;hostname>/ </entry>
                    </row>
                    <row>
                      <entry>Application description</entry>
                      <entry>Some text describing the application </entry>
                      <entry>Helion Code Engine is an integrated CI/CD system. </entry>
                    </row>
                    <row>
                      <entry>Authorization callback URL</entry>
                      <entry>The public url to the application when the user authenticates with
                        github </entry>
                      <entry>https://&lt;hostname>/auth/github/callback</entry>
                    </row>
                  </tbody>
                </tgroup>
              </table></li>
            <li>Once the values have been entered, click <b>Register Application</b>. </li>
            <li>You will be presented with a screen that contains your application's <b>Client
                Id</b> and secret. Make a note of these.</li>
          </ol></li>
</ul>
    </section>  
    
    <section>
            <title>Install the HP Helion Code Engine</title>
            <note type="tip"> For help with the installer, enter the command <codeph>openstack
              hdpi</codeph>
            </note>
            <ol>
              <li>SSH to the Deployer.                </li>
              <li>Create a Virtual Environment. <codeblock>virtualenv .devplatform</codeblock></li>
              <li>Source the Virtual
                Environment.<codeblock>source .devplatform/bin/activate</codeblock></li>
              
              
              <li>If you did not create a <codeph>clouds.yaml</codeph> file earlier, you must <xref
            href="install_cloudsyaml.dita#topic_wzw_r4w_rt">create one now</xref>.</li>
        <li>Run the installer.
          <codeblock>openstack hdpi helionci install --package wscatalog.3333</codeblock></li>
              <li>After the installation is complete, launch the deployer.
                <codeblock>$ openstack hdpi helionci launch</codeblock>The output should look similar to
                the
                following:<codeblock>Searching for container helionci-deployer... 
Searching for container helionci-launcher... 
Extracting ... 
Running scripts... 
Running launcher.py</codeblock></li>  </ol>
          </section>
  </body>
</topic>
