<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_x54_njh_ts">
  <title>HP Helion Development Platform Installation Prerequisites</title>
  <body>
    <section id="prerequisites"> <title>General Prerequisites</title>
     <note type="important"><ul>
        <li>
          <p>The Cinder block storage service must be configured with either <xref href="../../../commercial/GA1/1.1commercial-vsa-overview.dita" >VSA</xref> or <xref href="../../../commercial/GA1/1.1commercial.install-3par.dita" >3Par</xref>.</p>
        </li>
        <li>
          <p>If you installed HP Helion OpenStack with <b>KVM</b> hypervisor support, configure HP StoreVirtual VSA for Block Storage or configure HP 3PAR StoreServ Storage.</p>
        </li>
        <li>
          <p>The system running the installer needs to have Python 2.7. Most modern operating
              systems include this as part of their base toolkit. This document is geared toward a
              Linux operating system, but this does not preclude the installer from running on other
              operating systems with appropriate modifications to the command-line statements.</p>
        </li>
        <li>
          <p>If you did not <xref
                href="http://docs-staging.hpcloud.com/hos2.0ga/#helion/administration/create_hdp_servicenet.html"
                format="html" scope="external">create the Service Network</xref> after installing HP
              Helion <tm tmtype="reg">OpenStack</tm>, you <b>must</b> do so now.</p>
        </li>
        <!--<li>Check version of openstack installer before you start?</li>-->
              </ul></note>
    </section>
    <section id="preparation">
      <title>Gather Information</title>
      <p>You will need the following information:</p>
      <dl>
        <dlentry>
          <dt>Deployer</dt>
          <dd>IP address of the Deployer.</dd>
        </dlentry>
        <dlentry>
          <dt>Username </dt>
          <dd>The OpenStack username of a cloud admin that has rights to perform a service update
            for the selected service.</dd>
        </dlentry>
        <dlentry>
          <dt>Password</dt>
          <dd>The OpenStack password of a cloud admin that has rights to perform a service update
            for the selected service.</dd>
        </dlentry>
      </dl>
      <title>Verify Connectivity</title>
      <note>Using <codeph>ping</codeph> (ICMP) for the connectivity check is insufficient because
        the installer will use TCP. </note>
      <ol id="ol_egn_mr1_tt">
        <li>Source the keystone RC file.<codeblock>source keystone.osrc</codeblock></li>
        <li>Verify access to the <codeph>pypi</codeph> site for downloading required Python scripts:<p>
            <codeblock>PYPI_URL=<xref href="https://pypi.python.org/pypi" format="html" scope="external">https://pypi.python.org/pypi</xref> 
wget -t3 --timeout=5 -O/dev/null -q $PYPI_URL &amp;&amp; echo exists OK || echo ERROR cannot reach $PYPI_URL</codeblock>
          </p></li>
        <li>Verify access to the Keystone public endpoint:
          <codeblock>KEYSTONE_URL_PUBLIC='openstack endpoint list | grep keystone | grep public | grep -Eo '(http|https)://{1}\S+''
wget -t3 --timeout=5 -O/dev/null -q $KEYSTONE_URL_PUBLIC &amp;&amp; echo exists OK || echo ERROR cannot reach $KEYSTONE_URL_PUBLIC</codeblock></li>
        <li>Verify access to the public Sherpa
          endpoint:<codeblock>SHERPA_URL_PUBLIC='openstack endpoint list | grep sherpa | grep public | grep -Eo '(http|https)://{1}\S+''
wget -t3 --timeout=5 -O/dev/null -q $SHERPA_URL_PUBLIC &amp;&amp; echo exists OK || echo ERROR cannot reach $SHERPA_URL_PUBLIC</codeblock></li>
      </ol>
    </section>   
    <section><title>Set Proxy Shell Variables</title>
   <p>If your network uses a proxy, it may be necessary to set the
      <codeph>https_proxy</codeph> and <codeph>http_proxy</codeph> shell variables so that the
      installer may download required Python libraries from the <xref
        href="https://pypi.python.org/pypi" scope="external" format="html">pypi</xref> site.</p>  <ol>
        <!--<li>Get location and how to set from Matty</li>-->  <li>To
      set the shell variables, enter the following commands:
      <codeblock>export https_proxy={ip address or url of https proxy} 
export http_proxy={ip address or url of http proxy} </codeblock>Example:
      <codeblock>export https_proxy=http://proxy.example.com
export http_proxy=http://proxy.example.com</codeblock></li>
      <li> If your network uses a proxy, you must define the proxy exclusion list
            (<codeph>no_proxy</codeph>)<ol>
            <li>Source the keystone RC file.<codeblock>source keystone.osrc</codeblock></li>
            <li>Get the Keystone <b>public</b> endpoint IP
              address.<codeblock>KEYSTONE_IP_PUBLIC='openstack endpoint list | grep keystone | grep public | grep -Eo '[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'' 
echo 'KEYSTONE PUBLIC IP: ' $KEYSTONE_IP_PUBLIC </codeblock></li>
            <li>Get the Keystone <b>internal</b> endpoint IP address.
              <codeblock>KEYSTONE_IP_INTERNAL='openstack endpoint list | grep keystone | grep internal | grep -Eo '[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}'' 
echo 'KEYSTONE INTERNAL IP: ' $KEYSTONE_IP_INTERNAL </codeblock></li>
            <li>Set the IP address values for <codeph>no_proxy</codeph>. This list also includes the IP address where the Horizon management console can be accessed. 
              <codeblock>export no_proxy=localhost,127.0.0.1,$KEYSTONE_IP_PUBLIC,$KEYSTONE_IP_INTERNAL,&lt;Horizon Console IP address&gt; </codeblock></li>
          </ol></li>
      </ol>
    </section>
    <section>
      <title>Download and Install the Virtual Environment</title>
      <note>Installing a Python package also installs any required dependencies. This may generate
        several syntax warnings inline as the install occurs. This is expected behavior, and unless
        the output of the pip install reflects a fatal error, the install is considered
        "clean".</note>
      <ol>
        <li>SSH to the Deployer. </li>
        <li>Install <codeph>virtualenv</codeph>
          <codeblock>sudo apt-get install -y virtualenv</codeblock></li>
      </ol>
    </section> 
  </body>
</topic>
