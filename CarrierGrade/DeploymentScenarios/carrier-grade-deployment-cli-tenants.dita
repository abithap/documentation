<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd" ><topic xml:lang="en-us" id="topic1723">
<title>HPE Helion OpenStack(R) Carrier Grade (Beta): Creating Tenants and Updating Quotas Using the CLI</title>
<prolog>
<metadata>
<othermeta name="layout" content="default"/>
<othermeta name="product-version" content="HPE Helion OpenStack(R)"/>
<othermeta name="product-version" content="HPE Helion OpenStack(R) 1.1"/>
<othermeta name="role" content="All"/>
<othermeta name="role" content="Paul F"/>
<othermeta name="product-version1" content="HPE Helion OpenStack(R)"/>
<othermeta name="product-version2" content="HPE Helion OpenStack(R) 1.1"/>
</metadata>
</prolog>
<body>
<p>
<!--UNDER REVISION-->
 <!--./CarrierGrade/DeploymentScenarios/carrier-grade-deployment-cli-tenants.md-->
 <!--permalink: /helion/openstack/carrier/deploy/cli/tenants/--></p>
<p>You can use the CLI to create and configure tenants.</p>
<!-- ===================== horizontal rule ===================== -->
<p>
<b>Note:</b> This feature applies only to servers in the VNF Region.</p>
<!-- ===================== horizontal rule ===================== -->
<p>This exercise creates the tenants tenant1 and tenant2, and sets up their resource quotas.</p>
<ol>
<li>
<p>Log in to the active controller as the Keystone admin user.</p>

<codeblock>
<codeph>$ source /etc/nova/openrc
</codeph>
</codeblock>
</li>
<li>
<p>Create a project (or, tenant) <codeph>tenant1</codeph>.</p>

<codeblock>
<codeph>keystone tenant-create --name tenant1
</codeph>
</codeblock>
</li>
<li>
<p>Create a project (or, tenant) <codeph>tenant2</codeph>.</p>

<codeblock>
<codeph>keystone tenant-create --name tenant2
</codeph>
</codeblock>
</li>
<li>
<p>Set up the UUID variables for the new tenants.</p>

<codeblock>
<codeph>export tenant1_UUID=`keystone tenant-list | grep tenant1 | \
awk '{print $2}'`

export tenant2_UUID=`keystone tenant-list | grep tenant2 | \
awk '{print $2}'`
</codeph>
</codeblock>
</li>
<li>
<p>Adjust networking resource quotas for the projects.</p>

<codeblock>
<codeph>neutron quota-update --subnet 32 --network 32 --port 128 \
--tenant-id ${tenant1_UUID}

neutron quota-update --subnet 32 --network 32 --port 128 \
--tenant-id ${tenant2_UUID}
</codeph>
</codeblock>
</li>
<li>
<p>Adjust VM quotas for the tenants.</p>

<codeblock>
<codeph>{tenant1_UUID} --instances 20 -- cores 40 \
--floating_ips 20

nova quota-update ${tenant2_UUID} --instances 20 -- cores 40 \
--floating_ips 20
</codeph>
</codeblock>
</li>
<li>
<p>Adjust networking resource quotas for the tenant admin.</p>

<codeblock>
<codeph>neutron quota-update --subnet 32 --tenant-id {admin_tenant_UUID}
</codeph>
</codeblock>

<p>The two additional tenants are available now, with quotas established.</p>
</li>
</ol>
<p>
  <xref type="section" href="#topic1723/top"> Return to Top </xref>
</p>
<!-- ===================== horizontal rule ===================== -->
</body>
</topic>
