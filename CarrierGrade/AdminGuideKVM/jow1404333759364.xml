<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River Concept//EN" "concept-wr.dtd">
<concept-wr domains="(topic concept concept-wr)                            (topic hi-d)                            (topic indexing-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="jow1404333759364" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
    <!-- Modification History
   -->
    <title id="1">System Alarms</title>
    <shortdesc id="2">HP Helion OpenStack Carrier Grade can generate system alarms when operational conditions
        change on any of the hosts in the cluster.</shortdesc>
    <prolog>
        <author id="3">Pedro Sanchez</author>
    </prolog>
    <conbody>
        <p id="36">The supported interfaces to the alarms subsystem are the command line
            interface (see <xref href="psa1419970253127.xml" id="247"/>), the web interface
            (click the <uicontrol id="248">Fault Management</uicontrol> menu on the
                <uicontrol id="249">Admin</uicontrol> tab), SNMP, and the system REST
            API.</p>
        <section id="section_N10027_N1001F_N10001" id="37">
            <title id="38">About SNMP Support</title>
            <p id="39">Support for SNMP is implemented as follows:</p>
            <ul id="ul_bjv_cjd_cp">
                <li id="40">
                    <p id="41">access is disabled by default, must be enabled manually from the command line
                        interface</p>
                </li>
                <li id="42">
                    <p id="43">available using the controller's node floating OAM IP address, over the
                        standard UDP port 161</p>
                </li>
                <li id="44">
                    <p id="45">supported version is SNMPv2c</p>
                </li>
                <li id="46">
                    <p id="47">access is read-only for all SNMP communities</p>
                </li>
                <li id="48">
                    <p id="49">all SNMP communities have access to the entire OID tree, there is not support
                        for <term id="50">VIEWS</term></p>
                </li>
                <li id="51">
                    <p id="52">supported SNMP operations are <term id="53">GET</term>, <term id="271">GETNEXT</term>, <term id="267">GETBULK</term>,
                        and <term id="273">SNMPv2C-TRAP2</term></p>
                </li>
                <li id="275">
                    <p id="57">the SNMP <term id="58">SET</term> operation is not supported</p>
                </li>
            </ul>
        </section>
        <section id="section_N10099_N1001F_N10001" id="66">
            <title id="67">SNMPv2-MIB (RFC 3418)</title>
            <p id="68">Support for the basic standard MIB for SNMP entities is limited to
                the System and SNMP groups, as follows:</p>
            <ul id="ul_ulb_ypl_hp">
                <li id="69">
                    <p id="70">System Group, <nameliteral id="71">.iso.org.dod.internet.mgmt.mib-2.system</nameliteral></p>
                </li>
                <li id="72">
                    <p id="73">SNMP Group, <nameliteral id="74">.iso.org.dod.internet.mgmt.mib-2.snmp</nameliteral></p>
                </li>
                <li id="75">
                    <p id="76">coldStart and warmStart Traps</p>
                </li>
            </ul>
            <p id="189">The following system attributes are used in support of the SNMP implementation. They
                can be displayed using the <cmdname id="190">system show</cmdname> command.</p>
            <dl>
                <dlentry id="191">
                    <dt id="192">contact</dt>
                    <dd id="193">
                        <p id="194">A read-write system attribute used to populate the
                            <nameliteral id="195">sysContact</nameliteral> attribute of the SNMP System
                            group. The contact value can be set with the following command:</p>
                        <codeblock id="196"><systemoutput id="268">~(keystone_admin)$ </systemoutput><userinput id="198">system modify contact="the-site-contact"</userinput></codeblock>
                    </dd>
                </dlentry>
                <dlentry id="199">
                    <dt id="200">location</dt>
                    <dd id="201">
                        <p id="202">A read-write system attribute used to populate the
                                <nameliteral id="203">sysLocation</nameliteral> attribute of the SNMP System
                            group. The location value can be set with the following command:</p>
                        <codeblock id="231"><systemoutput id="269">~(keystone_admin)$ </systemoutput><userinput id="235">system modify location="some-location"</userinput></codeblock>
                    </dd>
                </dlentry>
                <dlentry id="207">
                    <dt id="208">name</dt>
                    <dd id="209">
                        <p id="210">A read-write system attribute used to populate the
                                <nameliteral id="211">sysName</nameliteral> attribute of the
                            SNMP System group. The name value can be set with the following
                            command:</p>
                        <codeblock id="232"><systemoutput id="270">~(keystone_admin)$ </systemoutput><userinput id="236">system modify name="the-system-name"</userinput></codeblock>
                    </dd>
                </dlentry>
                <dlentry id="212">
                    <dt id="213">software_version</dt>
                    <dd id="214">
                        <p id="215">A read-only system attribute set automatically by the system. Its value
                            is used to populate the <nameliteral id="216">sysDescr</nameliteral> attribute of
                            the SNMP System group.</p>
                    </dd>
                </dlentry>
            </dl>
            <p id="217">The following SNMP attributes are used as follows:</p>
            <dl>
                <dlentry id="218">
                    <dt id="219">sysObjectId</dt>
                    <dd id="220">
                        <p id="221">Set to
                                <nameliteral id="237">iso.org.dod.internet.private.enterprise.wrs.titanium</nameliteral>
                            (1.3.6.1.4.1.1.2).</p>
                    </dd>
                </dlentry>
                <dlentry id="223">
                    <dt id="224">sysUpTime</dt>
                    <dd id="225">
                        <p id="226">Set to the up time of the active controller.</p>
                    </dd>
                </dlentry>
                <dlentry id="227">
                    <dt id="228">sysServices</dt>
                    <dd id="229">
                        <p id="230">Set to the nominal value of 72 to indicate that the host
                            provides services at layers 1 to 7.</p>
                    </dd>
                </dlentry>
            </dl>
        </section>
        <section id="section_N100C9_N1001F_N10001" id="77">
            <title id="78">Enterprise MIBs</title>
            <p id="79">The HP Helion OpenStack Carrier Grade supports the following <term
                    id="80">Enterprise Registration</term> and <term id="81"
                    >Alarm</term> MIBs.</p>
            <dl>
                <dlentry id="82">
                    <dt id="83">Enterprise Registration MIB, wrsEnterpriseReg.mib</dt>
                    <dd id="84">
                        <p id="85">Defines the hierarchy underneath the <nameliteral
                                id="86"
                                >iso(1).org(3).dod(6).internet(1).private(4).enterprise(1)</nameliteral>.
                            This hierarchy is administered as follows:</p>
                        <ul id="ul_twp_s5l_hp">
                            <li id="87">
                                <p id="88"><nameliteral id="89"
                                        >.wrs(731)</nameliteral>, the IANA-registered enterprise
                                    code for HP Helion OpenStack Carrier Grade</p>
                            </li>
                            <li id="90">
                                <p id="91"><nameliteral id="92">.wrs(731).wrsCommon(1).wrs&lt;Module&gt;(1-...)</nameliteral>,
                                    defined in <filepath id="93">wrsCommon&lt;Module&gt;.mib</filepath>.</p>
                            </li>
                            <li id="94">
                                <p id="95"><nameliteral id="96">.wrs(731).wrsProduct(2-...)</nameliteral>, defined
                                    in <filepath id="97">wrs&lt;Product&gt;.mib</filepath>.</p>
                            </li>
                        </ul>
                    </dd>
                </dlentry>
                <dlentry id="98">
                    <dt id="99">Alarm MIB, wrsAlarmMib.mib</dt>
                    <dd id="100">
                        <p id="101">Defines the common TRAP and ALARM MIBs. The definition
                            includes <term id="102">textual conventions</term>, an <term
                                id="103">active alarm table</term>, a <term id="250"
                                >historical alarm table</term>, and <term id="104"
                                >traps</term>.</p>
                        <dl>
                            <dlentry id="105">
                                <dt id="106">Textual Conventions</dt>
                                <dd id="107">
                                    <p id="108">Semantic statements used to simplify definitions in the
                                        active alarm table and traps components of the MIB.</p>
                                </dd>
                            </dlentry>
                            <dlentry id="238">
                                <dt id="240">Active Alarm Table</dt>
                                <dd id="242">
                                    <p id="244">A list of all <term id="113">active</term> or <term id="114">set</term>
                                        alarms in the system. Each entry in the table includes the
                                        following variables:</p>
                                    <ul id="ul_y1w_4lk_qq">
                                        <li id="115">
                                            <p id="116"><varname id="117">UUID</varname></p>
                                        </li>
                                        <li id="118">
                                            <p id="119"><varname id="120">AlarmID</varname></p>
                                        </li>
                                        <li id="121">
                                            <p id="122"><varname id="123">EntityInstanceID</varname></p>
                                        </li>
                                        <li id="124">
                                            <p id="125"><varname id="126">DateAndTime</varname></p>
                                        </li>
                                        <li id="127">
                                            <p id="128"><varname id="129">AlarmSeverity</varname></p>
                                        </li>
                                        <li id="130">
                                            <p id="131"><varname id="132">ReasonText</varname></p>
                                        </li>
                                        <li id="133">
                                            <p id="134"><varname id="135">EventType</varname></p>
                                        </li>
                                        <li id="136">
                                            <p id="137"><varname id="138">ProbableCause</varname></p>
                                        </li>
                                        <li id="139">
                                            <p id="140"><varname id="293">ProposedRepairAction</varname></p>
                                        </li>
                                        <li id="142">
                                            <p id="143"><varname id="144">ServiceAffecting</varname></p>
                                        </li>
                                        <li id="145">
                                            <p id="146"><varname id="147">SuppressionAllowed</varname></p>
                                        </li>
                                    </ul>
                                    <p id="251">On the web interface, click the <uicontrol id="252">Fault
                                            Management</uicontrol> menu on the
                                            <uicontrol id="253">Admin</uicontrol> tab, and then select the
                                            <uicontrol id="254">Active Alarms</uicontrol> tab. Active alarms
                                        are displayed as illustrated below:</p>
                                    <fig id="fig_bgh_ldl_qq" id="255">
                                        <image href="psa1420475905055.image" id="image_cqk_xdl_qq" id="257" placement="inline" width="550">
                                            <alt id="258">Active Alarms</alt>
                                        </image>
                                    </fig>
                                </dd>
                            </dlentry>
                            <dlentry id="239">
                                <dt id="241">Historical Alarm Table</dt>
                                <dd id="243">
                                    <p id="245">A history of set and clear alarm operations
                                        in the system. The table includes the same variables as the
                                        active alarm table, plus the variable
                                            <varname id="246">AlarmState</varname> used to indicate whether
                                        the table entry is a SET or a CLEAR operation.</p>
                                    <p id="277">On the web interface, click the <uicontrol id="279">Fault
                                            Management</uicontrol> menu on the
                                            <uicontrol id="281">Admin</uicontrol> tab, and then select the
                                            <uicontrol id="283">Historical Alarms</uicontrol> tab. The alarm
                                        history is displayed as illustrated below:</p>
                                    <fig id="fig_mwl_12l_qq" id="263">
                                        <image href="psa1420476170224.image" id="image_lzp_22l_qq" id="265" placement="inline" width="550">
                                            <alt id="266">Historical Alarms</alt>
                                        </image>
                                    </fig>
                                </dd>
                            </dlentry>
                            <dlentry id="285">
                                <dt id="286">Customer Log Table</dt>
                                <dd id="287">
                                    <p id="288">A list of all customer logs in the system.
                                        The table includes the same variables as the Active Alarm
                                        Table, with the exception that <varname id="294">ProposedRepairAction</varname> and  <varname id="292">SuppressionAllowed</varname> are
                                        excluded.</p>
                                    <p id="278">On the web interface, click the <uicontrol id="280">Fault Management</uicontrol> menu on
                                        the <uicontrol id="282">Admin</uicontrol> tab, and
                                        then select the <uicontrol id="284">Customer
                                            Logs</uicontrol> tab. Logs are displayed as illustrated
                                        below:</p>
                                    <fig id="fig_cyy_xqx_bs" id="272">
                                        <image href="jow1432054510610.image" id="image_ixf_drx_bs" id="274" width="5in">
                                            <alt id="276">TiS Customer Logs</alt>
                                        </image>
                                    </fig>
                                </dd>
                            </dlentry>
                            <dlentry id="148">
                                <dt id="149">Traps</dt>
                                <dd id="150">
                                    <p id="151">Defines the following generic traps:</p>
                                    <ul id="ul_clc_vyl_hp">
                                        <li id="152">
                                            <p id="153"><nameliteral id="154">wrsAlarmCritical</nameliteral></p>
                                        </li>
                                        <li id="155">
                                            <p id="156"><nameliteral id="157">wrsAlarmMajor</nameliteral></p>
                                        </li>
                                        <li id="158">
                                            <p id="159"><nameliteral id="160">wrsAlarmMinor</nameliteral></p>
                                        </li>
                                        <li id="161">
                                            <p id="162"><nameliteral id="163">wrsAlarmWarning</nameliteral></p>
                                        </li>
                                        <li id="164">
                                            <p id="165"><nameliteral id="166">wrsAlarmMessage</nameliteral></p>
                                        </li>
                                        <li id="167">
                                            <p id="168"><nameliteral id="169">wrsAlarmClear</nameliteral></p>
                                        </li>
                                        <li id="170">
                                            <p id="171"><nameliteral id="172">wrsAlarmHierarchicalClear</nameliteral></p>
                                        </li>
                                    </ul>
                                </dd>
                            </dlentry>
                        </dl>
                        <p id="289">For all alarms, the Notification Type is based on the
                            severity of the trap or alarm. This is done to facilitate the
                            interaction with most SNMP trap viewers which typically use the
                            Notification Type to drive the coloring of traps, that is, red for
                            critical, yellow for minor, and so on. </p>
                        <p id="290">Customer Logs always result in <nameliteral id="291">wrsAlarmMessage</nameliteral> traps.</p>
                        <p id="174">For Critical, Major, Minor, Warning, and Message traps, all
                            variables in the active alarm table are included as <term id="175">varbinds</term>.</p>
                        <p id="176">For the Clear trap, <term id="177">varbinds</term> include
                            only the <varname id="178">AlarmID</varname>, <varname id="179">EntityInstanceID</varname>, <varname id="180">DateAndTime</varname>,
                            and <varname id="181">ReasonText</varname> variables.</p>
                        <p id="182">For the HierarchicalClear trap, <term id="183">varbinds</term> include only the <varname id="184">EntityInstanceID</varname>, <varname id="185">DateAndTime</varname>,
                            and <varname id="186">ReasonText</varname> variables.</p>
                    </dd>
                </dlentry>
            </dl>
        </section>
        <section id="section_N10272_N1001F_N10001" id="187">
            <title id="188">Enabling SNMP Support</title>
            <p id="59">In order to have a workable SNMP configuration you must use the
                command line interface on the active controller to:</p>
            <ol id="ol_amx_tql_hp">
                <li id="60">
                    <p id="61">Define at least one SNMP community string. See <xref href="psa1408039460152.xml" id="62"/> for details.</p>
                </li>
                <li id="63">
                    <p id="64">Configure at least one SNMP trap destination so that alarms
                        can be reported as they happen. See <xref href="psa1408040130437.xml" id="65"/> for details.</p>
                </li>
            </ol>
        </section>
    </conbody>
</concept-wr>