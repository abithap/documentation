<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River General Task//EN" "task-wr.dtd">
<task-wr domains="(topic task task-wr)                            (topic hi-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="psa1410807811981" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
<!-- Modification History
        
-->
    <title id="1">Performing a System Data Backup</title>
    <shortdesc id="2">A system data backup captures core system information needed to restore a fully
        operational HP Helion OpenStack Carrier Grade cluster.</shortdesc>
    <prolog>
        <author id="3">Pedro Sanchez</author>
    </prolog>
    <taskbody>
        <context id="context_N1001F_N1001C_N10001" id="4">
            <p id="5">System data backups include:</p>
            <ul id="ul_enh_3dl_lp">
                <li id="6">
                    <p id="7">platform configuration details</p>
                </li>
                <li id="8">
                    <p id="9">system databases</p>
                </li>
                <li id="10">
                    <p id="11">patching and package repositories</p>
                </li>
                <li id="14">
                    <p id="15">home directory for the <nameliteral id="66">wrsroot</nameliteral>
                        user and all LDAP user accounts. See <xref href="jow1404333563834.xml" id="22"/> for additional information.</p>
                </li>
            </ul>
            <p id="16">System data backups do not include:</p>
            <ul id="ul_im2_b2y_lp">
                <li id="17">
                    <p id="18">Modifications manually made to the file systems, such as
                        configuration changes on the <filepath id="19">/etc</filepath>
                        directory. After a restore operation has been completed,  these modification
                        have to be reapplied.</p>
                </li>
                <li id="20">
                    <p id="21">Home directories and passwords of local user accounts. They
                        must be backed up manually by the system administrator.</p>
                </li>
                <li id="59">
                    <p id="60">The <filepath id="61">/root</filepath> directory. Use
                        the <nameliteral id="62">wrsroot</nameliteral> account instead when
                        root access is needed.</p>
                </li>
            </ul>
        </context>
        <steps>
            <step id="step_N10081_N1007E_N1001C_N10001" id="25">
                <cmd id="26">Log in as user <nameliteral id="27">wrsroot</nameliteral> to the active controller.</cmd>
                <info id="63">
                    <p id="64">You can log in directly on the console or remotely using
                            <nameliteral id="65">ssh</nameliteral>.</p>
                </info>
            </step>
            <step id="step_N1008E_N1007E_N1001C_N10001" id="28">
                <cmd id="29">Execute the system backup.</cmd>
                <stepxmp id="30">
                    <codeblock id="31"><systemoutput id="32">$ </systemoutput><userinput id="33">sudo config_controller --backup backup_20140918</userinput>
<systemoutput id="58">Performing backup (this will take several minutes):
Step 13 of 13 [#############################################] [100%]
System backup file created: /opt/backups/backup_20140918_system.tgz
Images backup file created: /opt/backups/backup_20140918_images.tgz

Backup complete</systemoutput></codeblock>
                </stepxmp>
                <info id="34">
                    <p id="35">In this example, the argument <term id="36"
                            >backup_20140918</term> to the <option id="37">--backup</option>
                        option is an arbitrary identifier you want to use for the backup.</p>
                </info>
                <stepresult id="38">
                    <p id="39">Upon successful execution of the command, the following two files are
                        available on the controller's file system:</p>
                    <ul id="ul_tx1_jyy_lp">
                        <li id="40">
                            <p id="41"><filepath id="42"
                                    >/opt/backups/backup_20140918_system.tgz</filepath></p>
                        </li>
                        <li id="43">
                            <p id="44"><filepath id="45"
                                    >/opt/backups/backup_20140918_images.tgz</filepath></p>
                        </li>
                    </ul>
                    <p id="46">Together, these two files represent the entire system
                        data.</p>
                </stepresult>
            </step>
            <step id="step_N100D9_N1007E_N1001C_N10001" id="47">
                <cmd id="48">Transfer the backup files to an external storage resource.</cmd>
                <info id="49">
                    <p id="50">You can use a command such as <cmdname id="51">scp</cmdname> to transfer the backup
                        files to a server reachable over the OAM network. You can also copy them to
                        a locally attached storage device, such as an external USB drive.</p>
                </info>
            </step>
            <step id="step_N100EE_N1007E_N1001C_N10001" importance="optional" id="52">
                <cmd id="53">Delete the backup files.</cmd>
            </step>
        </steps>
        <result id="result_N100FD_N1001C_N10001" id="56">
            <p id="57">The system data backup is now complete. The backup files must be kept
                in a secured location, probably holding multiple copies of them for redundancy
                purposes.</p>
        </result>
    </taskbody>
</task-wr>