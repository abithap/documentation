<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River General Task//EN" "task-wr.dtd">
<task-wr id="jow1413726916641" xml:lang="en-us">
<!-- Modification History
        
-->
    <title id="105">Changing the OAM IP Configuration</title>
    <shortdesc id="106">You can change the External OAM subnet, floating IP address, controller addresses,
        and default gateway at any time after installation.</shortdesc>
    <prolog>
        <author id="107">Jim Owens</author>
    </prolog>
    <taskbody>
        <context id="context_N1001F_N1001C_N10001" id="24">
            <p id="25">During software installation, the HP Helion OpenStack Carrier Grade is configured with
                an OAM network subnet and related IP addresses. You can change these addresses using
                the web administration interface or the CLI.</p>
            <note id="note_N1002F_N1002B_N1001D_N10001" id="66" type="caution">
                <p id="167">Access to the OAM network is interrupted during this procedure. When a swact is
                    performed on the controllers, the newly active controller uses the changed OAM
                    IP addresses. The existing OAM IP addresses are no longer valid, and you must
                    use the new OAM IP addresses to reconnect to the controller. Changes to external
                    OAM access routing settings may also be required. In addition, VNC console
                    access to compute-node hosts is interrupted until the hosts are locked and
                    unlocked.</p>
            </note>
        </context>
        <prereq id="prereq_N1002B_N1001D_N10001" id="65">
            <p id="67">Before changing the OAM IP configuration, review the Fault Management
                page and ensure that any existing system alarms are cleared.</p>
        </prereq>
        <steps id="steps_xfh_24z_5p">
            <step id="step_N1002B_N10028_N1001C_N10001" id="26">
                <cmd id="27">In the HP Helion OpenStack Carrier Grade web administration interface, open the
                        <wintitle id="173">System Configuration</wintitle> pane.</cmd>
                <info id="28">
                    <p id="29">The <wintitle id="30">System Configuration</wintitle>
                        pane is available from the <uicontrol id="19">System
                            Panel</uicontrol> section of the <uicontrol id="20">Admin</uicontrol> menu. </p>
                </info>
            </step>
            <step id="step_N1004A_N10028_N1001C_N10001" id="31">
                <cmd id="32">Select the <wintitle id="33">OAM IP</wintitle>
                    tab.</cmd>
                <stepresult id="34">
                    <p id="35">The <wintitle id="104">OAM IP</wintitle> page
                        appears, showing the currently defined OAM network configuration.</p>
                    <fig id="fig_t3s_4mz_5p" id="36">
                        <image href="jow1413850481192.image" id="image_qjr_p1d_vp" id="108" width="6in">
                            <alt id="109">OAM IP page</alt>
                        </image>
                    </fig>
                </stepresult>
            </step>
            <step id="step_N10070_N10028_N1001C_N10001" id="39">
                <cmd id="40">Click <uicontrol id="41">Edit OAM IP</uicontrol>.</cmd>
                <stepresult id="42">
                    <p id="43">The <wintitle id="44">Edit OAM IP</wintitle> dialog
                        box appears.</p>
                    <fig id="fig_tmw_qnz_5p" id="45">
                        <image href="jow1413850497887.image" id="image_fp4_r1d_vp" id="110" width="4in">
                            <alt id="111">Edit OAM IP dialog</alt>
                        </image>
                    </fig>
                </stepresult>
            </step>
            <step id="step_N1009A_N10028_N1001C_N10001" id="48">
                <cmd id="49">Replace the IP addresses with different ones as required.</cmd>
            </step>
            <step id="step_N100CE_N1003A_N1001D_N10001" id="68">
                <cmd id="69">Click <uicontrol id="70">Save</uicontrol>.</cmd>
                <info id="71">
                    <p id="72">This raises major alarms against the controllers and
                        services. You can view the alarms on the Fault Management page.</p>
                </info>
            </step>
            <step id="step_N100BF_N1002B_N1001D_N10001" id="57">
                <cmd id="58">Lock and unlock the controllers to clear the alarms.</cmd>
                <info id="76">
                    <p id="77">Open the <wintitle id="143">Hosts</wintitle> list by
                        clicking <uicontrol id="78">Inventory</uicontrol> on the<wintitle id="79"> System Panel</wintitle> section of the <wintitle id="80">Admin</wintitle> menu, and then selecting the <uicontrol id="81">Hosts</uicontrol> tab. Hosts requiring attention are
                        shown with the status <nameliteral id="82">Config
                            out-of-date</nameliteral>.</p>
                    <p id="83">To lock or unlock a host, click <uicontrol id="84">More</uicontrol> for the host and then use the menu selections.</p>
                </info>
                <substeps id="substeps_zyf_rsz_5p">
                    <substep id="85">
                        <cmd id="86">Lock the standby controller. </cmd>
                        <info id="87">
                            <p id="88">Wait for the lock operation to be completed.</p>
                        </info>
                    </substep>
                    <substep id="89">
                        <cmd id="90">Unlock the standby controller.</cmd>
                        <info id="59">
                            <p id="60">Wait for the host to become available. It is updated
                                with the new OAM configuration, and its error message is
                                cleared.</p>
                        </info>
                    </substep>
                    <substep id="91">
                        <cmd id="92">Perform a swact on the active controller.</cmd>
                        <info id="93">
                            <p id="94">Click <menucascade id="95">
                                    <uicontrol id="96">More</uicontrol>
                                    <uicontrol id="97">Swact Host</uicontrol>
                                    <uicontrol id="98"> </uicontrol>
                                </menucascade> for the active controller.</p>
                            <note id="note_N10181_N10164_N1015B_N1012F_N100F2_N1003F_N1001F_N10001" id="165">
                                <p id="166">After the swact, the HP Helion OpenStack Carrier Grade begins using the new OAM
                                    network configuration. If you have changed the OAM subnet or the
                                    OAM floating IP address, the current web session is terminated.
                                    To continue using the web administration interface, you must
                                    start a new session and log in using the new IP address. You may
                                    also need to update router tables to establish a connection.
                                </p>
                            </note>
                        </info>
                    </substep>
                    <substep id="99">
                        <cmd id="62">Lock the original controller (now in standby
                            mode).</cmd>
                        <info id="146">
                            <p id="148">Wait for the lock operation to be completed.</p>
                        </info>
                    </substep>
                    <substep id="150">
                        <cmd id="151">Unlock the original controller.</cmd>
                        <info id="147">
                            <p id="149">Wait for it to become available. It is updated with
                                the new OAM configuration, and its error message is cleared.</p>
                        </info>
                    </substep>
                </substeps>
            </step>
            <step id="step_N101BC_N1003F_N1001F_N10001" id="154">
                <cmd id="155">Lock and unlock each compute node.</cmd>
                <info id="159">
                    <note id="note_N101C5_N101C2_N101BB_N1003F_N1001F_N10001" id="161" type="caution">
                        <p id="163">Before locking a compute node, ensure that sufficient
                            resources are available on other hosts to migrate any running
                            instances.</p>
                    </note>
                </info>
            </step>
            <step id="step_N1025E_N100B7_N1001F_N10001" id="160">
                <cmd id="162">Ensure that the <nameliteral id="164">250.001
                        Configuration out-of-date</nameliteral> alarms are cleared for all
                    hosts.</cmd>
                <info id="171">
                    <p id="172">If any alarms are present, clear them by locking and
                        unlocking the affected host. In most cases, the alarms are cleared within
                        one minute. If other system configuration operations are pending for the
                        host, allow more time for the alarms to be cleared.</p>
                </info>
            </step>
        </steps>
    </taskbody>
</task-wr>