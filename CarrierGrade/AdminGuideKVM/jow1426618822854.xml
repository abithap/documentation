<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River General Task//EN" "task-wr.dtd">
<task-wr id="jow1426618822854" xml:lang="en-us">
<!-- Modification History
        
-->
    <title id="227">Designating Shared Physical CPUs on a Compute Host</title>
    <shortdesc id="228">You can designate one shared physical CPU per physical processor on a
        compute host to run low-load or non-real-time tasks for multiple VMs, freeing other cores on
        the host for dedicated high-load tasks.</shortdesc>
    <prolog>
        <author id="229">Jim Owens</author>
    </prolog>
    <taskbody>
        <context id="context_N1001F_N1001C_N10001" id="230">
            <p id="231">You can use the web administration interface or the CLI to set up shared physical CPUs.</p>
            <p id="232">To add or remove a shared physical CPU from the CLI, use a command of the following form:</p>
            <codeblock id="233"><systemoutput id="235">~(keystone_admin)$ </systemoutput><userinput id="237">system host-cpu-modify -f shared -p<varname id="239">processor</varname> <varname id="240">use_shared</varname> <varname id="241">hostname</varname></userinput></codeblock>
            <p id="242">where</p>
            <parml>
                <plentry id="243">
                    <pt id="244">processor</pt>
                    <pd id="245">
                        <p id="246">is the number of the physical processor (0 or 1)</p>
                    </pd>
                </plentry>
                <plentry id="247">
                    <pt id="248">use_shared</pt>
                    <pd id="249">
                        <p id="250">specifies whether to use a shared physical CPU (0 for no, 1 for yes)</p>
                    </pd>
                </plentry>
                <plentry id="251">
                    <pt id="252">hostname</pt>
                    <pd id="253">
                        <p id="254">is the name of the compute host</p>
                    </pd>
                </plentry>
            </parml>
            <p id="255">For example, to set up a shared physical CPU on processor <nameliteral id="256">0</nameliteral> of
                    <nameliteral id="257">compute-0</nameliteral>:</p>
            <codeblock id="234"><systemoutput id="236">~(keystone_admin)$ </systemoutput><userinput id="238">system host-cpu-modify -f shared -p0 1 compute-0</userinput></codeblock>
        </context>
        <steps>
            <step conref="jow1426453628262.xml#jow1426453628262/lock_host" id="step_N10096_N10093_N1001C_N10001" id="258">
                <cmd id="259"/>
            </step>
            <step conref="jow1426453628262.xml#jow1426453628262/open_details_locked_host" id="step_N1009F_N10093_N1001C_N10001" id="260">
                <cmd id="261"/>
            </step>
            <step id="step_N100A8_N10093_N1001C_N10001" id="262">
                <cmd id="263">Select the <uicontrol id="264">Processor</uicontrol> tab.</cmd>
            </step>
            <step id="step_N100B5_N10093_N1001C_N10001" id="265">
                <cmd id="266">Click <uicontrol id="267">Edit CPU Assignments</uicontrol>.</cmd>
                <info id="268">
                    <p id="269">This control is available only if the host is locked.</p>
                </info>
            </step>
            <step id="step_N100CA_N10093_N1001C_N10001" id="270">
                <cmd id="271">In the <wintitle id="272">Edit CPU
                        Assignments</wintitle> dialog box, use the <uicontrol id="286">Shared</uicontrol>
                    Function section to enable shared physical CPUs.</cmd>
                <info id="274">
                    <fig id="fig_gb4_h53_kr" id="275">
                        <image href="jow1426626160742.image" id="image_cs5_h53_kr" id="276" width="3in">
                            <alt id="277">Edit CPU Assignments: Function Shared</alt>
                        </image>
                    </fig>
                    <p id="278">You can designate one core on each physical processor for
                        use as a shared physical CPU. The actual core is assigned from the pool of
                        available cores for the processor.</p>
                    <p id="279">For example, to use a core on processor 0 as a shared physical CPU,
                        set the <uicontrol id="280"># of Shared Physical Cores on Processor
                            0</uicontrol> to 1. Valid values are <nameliteral id="281">1</nameliteral> (to assign a core as a shared physical CPU) or <nameliteral id="282">0</nameliteral> (if a shared physical CPU is not required on
                        the processor.) </p>
                </info>
            </step>
        </steps>
        <postreq id="postreq_N10100_N1001C_N10001" id="283">
            <p id="284">To configure a VM to use a shared physical CPU, see <xref href="jow1426625051841.xml" id="285"/>.</p>
        </postreq>
    </taskbody>
</task-wr>