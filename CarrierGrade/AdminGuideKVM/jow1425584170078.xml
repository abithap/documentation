<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River General Task//EN" "task-wr.dtd">
<task-wr id="jow1425584170078" xml:lang="en-us">
<!-- Modification History
        
-->
    <title id="1">Configuring Endpoint IP Addresses</title>
    <shortdesc id="2">You can configure a data interface on a compute node with an endpoint
        address using CLI commands.</shortdesc>
    <prolog>
        <author id="3">Jim Owens</author>
    </prolog>
    <taskbody>
        <context id="context_N10022_N1001F_N10001" id="6">
            <p id="7">For VXLAN connectivity between VMs, the compute nodes that host the VMs must be
                configured with endpoint IP addresses.</p>
        </context>
        <prereq id="prereq_N1001F_N1001C_N10001" id="4">
            <p id="5">To make interface changes, you must lock the compute node first.</p>
        </prereq>
        <steps id="steps_zkx_d1h_hr">
            <step id="step_N1003C_N10038_N1001F_N10001" id="8">
                <cmd id="9">Lock the compute node.</cmd>
            </step>
            <step id="step_N10045_N10038_N1001F_N10001" id="10">
                <cmd id="11">Set the interface to support an IPv4 or IPv6 address, or both. </cmd>
                <info id="12">
                    <codeblock id="13"><systemoutput id="14">~(keystone_admin)$ </systemoutput><userinput id="15">system host-if-modify <varname id="16">node</varname> <varname id="17">ifname</varname> --ipv4-mode=<varname id="18">ipv4mode</varname> --ipv6-mode=<varname id="19">ipv6mode</varname></userinput></codeblock>
                    <p id="20">where</p>
                    <parml>
                        <plentry id="21">
                            <pt id="22">node</pt>
                            <pd id="23">
                                <p id="24">is the name or UUID of the compute node</p>
                            </pd>
                        </plentry>
                        <plentry id="25">
                            <pt id="26">ifname</pt>
                            <pd id="27">
                                <p id="28">is the name of the interface</p>
                            </pd>
                        </plentry>
                        <plentry id="29">
                            <pt id="30">ipv4mode</pt>
                            <pd id="31">
                                <p id="32">is either <nameliteral id="33">disabled</nameliteral> or<nameliteral id="34">
                                        static</nameliteral></p>
                            </pd>
                        </plentry>
                        <plentry id="35">
                            <pt id="36">ipv6mode</pt>
                            <pd id="37">
                                <p id="38">is either <nameliteral id="39">disabled</nameliteral> or<nameliteral id="40">
                                        static</nameliteral></p>
                            </pd>
                        </plentry>
                    </parml>
                </info>
            </step>
            <step id="step_N100C0_N10038_N1001F_N10001" id="41">
                <cmd id="42">Add an IPv4 or IPv6 address to the interface.</cmd>
                <info id="43">
                    <codeblock id="44"><systemoutput id="45">~(keystone_admin)$ </systemoutput><userinput id="46">system host-addr-add <varname id="47">node</varname> <varname id="48">ifname</varname> <varname id="49">ip_address</varname> <varname id="50">prefix</varname></userinput></codeblock>
                    <p id="51">where</p>
                    <parml>
                        <plentry id="52">
                            <pt id="53">node</pt>
                            <pd id="54">
                                <p id="55">is the name or UUID of the compute node</p>
                            </pd>
                        </plentry>
                        <plentry id="56">
                            <pt id="57">ifname</pt>
                            <pd id="58">
                                <p id="59">is the name of the interface</p>
                            </pd>
                        </plentry>
                        <plentry id="60">
                            <pt id="61">ip_address</pt>
                            <pd id="62">
                                <p id="63">is an IPv4 or IPv6 address</p>
                            </pd>
                        </plentry>
                        <plentry id="64">
                            <pt id="65">prefix</pt>
                            <pd id="66">
                                <p id="67">is the netmask length for the address</p>
                            </pd>
                        </plentry>
                    </parml>
                    <p id="68">To delete an address, use the following commands:</p>
                    <codeblock id="69"><systemoutput id="70">~(keystone_admin)$ </systemoutput><userinput id="71">system host-addr-list</userinput></codeblock>
                    <p id="72">This displays the UUIDs of existing addresses.</p>
                    <codeblock id="73"><systemoutput id="74">~(keystone_admin)$ </systemoutput><userinput id="75">system host-addr-delete <varname id="76">uuid</varname></userinput></codeblock>
                    <p id="77">where <nameliteral id="78">uuid</nameliteral> is the UUID of the address.</p>
                </info>
            </step>
            <step id="step_N10152_N10038_N1001F_N10001" id="79">
                <cmd id="80">Unlock the compute node and wait for it to become available.</cmd>
            </step>
        </steps>
    </taskbody>
</task-wr>