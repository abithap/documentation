<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE concept-wr PUBLIC "-//WindRiver.com//DTD DITA 1.2 Wind River Concept//EN" "concept-wr.dtd">
<concept-wr domains="(topic concept concept-wr)                            (topic hi-d)                            (topic indexing-d)                            (topic pr-d)                            (topic sw-d)                            (topic ui-d)                            (topic wr-sw-d)                            (topic xml-d)   " id="jow1404333660893" xml:lang="en-us" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/">
    <!-- Modification History
   -->
    <title id="1">Server Groups</title>
    <shortdesc id="2"><i id="5">Server Groups</i> is a mechanism to group virtual
        machines to which a common set of attributes is applied.</shortdesc>
    <prolog>
        <author id="3">Pedro Sanchez</author>
    </prolog>
    <conbody>
        <p id="4">Select the option <option id="7">Server Groups</option> from
            either the <uicontrol id="8">Project</uicontrol> or the <uicontrol id="9">Admin</uicontrol> tabs on the web administration interface to display
            the <wintitle id="6">Server Groups</wintitle> window illustrated in the
            following figure:</p>
        <fig id="fig_N1003B_N1001C_N10001" id="11">
            <image href="jow1404333656422.image" id="image_up4_5m2_14" id="12" placement="inline" width="6in"/>
        </fig>
        <p id="13">Click the button <uicontrol id="14">Create Server Group</uicontrol> to create a new server group, as
      illustrated below:</p>
        <fig id="fig_N1004F_N1001C_N10001" id="15">
            <image href="jow1404333657930.image" id="image_wfj_pn2_14" id="16" placement="inline" width="4in"/>
        </fig>
        <p id="17">The following parameters can be defined for the new server group:</p>
        <dl>
            <dlentry id="18">
                <dt id="19">Project</dt>
                <dd id="20">
                    <p id="21">Identifies the tenant the new service group should be
                        associated with. This field is only available as part of the
                            <nameliteral id="96">Admin</nameliteral> operations; the project identity is
                        implicit within the context of a specific tenant.</p>
                </dd>
            </dlentry>
            <dlentry id="22">
                <dt id="23">Server Group Name</dt>
                <dd id="24">
                    <p id="25">The name for the new server group.</p>
                </dd>
            </dlentry>
            <dlentry id="26">
                <dt id="27">Policy</dt>
                <dd id="28">
                    <p id="29">The following scheduling policy options are available:</p>
                    <dl>
                        <dlentry id="30">
                            <dt id="31">affinity</dt>
                            <dd id="32">
                                <p id="89">When this option is selected, new instances launched as part of this server group
                  are scheduled to run on the same compute node. </p>
                            </dd>
                        </dlentry>
                        <dlentry id="34">
                            <dt id="35">anti-affinity</dt>
                            <dd id="36">
                                <p id="37">When this option is selected, new instances launched as part of this server group
                  are scheduled to run on different compute nodes. For example, you can use the
                  anti-affinity option when you have two virtual machines that run in 1:1 HA
                  protection mode, and you want them to be protected against hardware failures.</p>
                            </dd>
                        </dlentry>
                    </dl>
                    <p id="93">See <xref href="jow1404333800588.xml" id="94"/> and <xref href="jow1404333655771.xml" id="95"/> for additional considerations on scheduling and live migration for each
                        of these policies.</p>
                </dd>
            </dlentry>
            <dlentry id="38">
                <dt id="39">Best Effort</dt>
                <dd id="40">
                    <p id="41">When selected, the policy in place, affinity, or
                        anti-affinity, is enforced whenever possible, on a best-effort basis. If for
                        any reason the policy cannot be enforced, then the deployment of the new
                        instance proceeds using the regular scheduling.</p>
                    <p id="42">When cleared, the policy in place must be executable for the
                        new instance to be scheduled. Launching of a new virtual machine fails if
                        there are no resources to comply with the selected policy.</p>
                </dd>
            </dlentry>
            <dlentry id="43">
                <dt id="44">Max Group Size (Instances)</dt>
                <dd id="45">
                    <p id="46">Determines the maximum number of instances that can co-exist
                        as part of this server group.</p>
                </dd>
            </dlentry>
        </dl>
        <p id="47">The new service group is displayed as follows:</p>
        <fig id="fig_N100DF_N1001C_N10001" id="48">
            <image href="jow1404333659426.image" id="image_jmp_5v5_14" id="49" placement="inline" width="5in"/>
        </fig>
        <p id="50">Once a server group is defined, you can add virtual machines to it at launch time. This is
      done by selecting the desired server group from the tab <uicontrol id="51">Server Group</uicontrol> on
      the launch window.</p>
        <section id="section_N1019F_N10023_N10001" id="80">
            <title id="81">Server Groups and the CLI</title>
            <p id="82">Server groups can be created and deleted using the CLI as illustrated in the
                following examples:</p>
            <codeblock id="83"><systemoutput id="97">~(keystone_admin)$ </systemoutput><userinput id="85">nova server-group-create --policy affinity \ 
--metadata best_effort=true --metadata group_size=2 ht-group-test</userinput>
<systemoutput id="98">+--------------+---------------+----------------+---------+------------+
| Id           | Name          | Policies       | Members | Metadata   |
+--------------+---------------+----------------+---------+------------+
| 63752c24-... | ht-group-test | [u'affinity... | []      | {u'best... |
+--------------+---------------+----------------+---------+------------+
~(keystone_admin)$ </systemoutput><userinput id="87">nova server-group-delete 63752c24-...</userinput>
<systemoutput id="99">Server group 63752c24-... has been successfully deleted.</systemoutput></codeblock>
        </section>
    </conbody>
</concept-wr>