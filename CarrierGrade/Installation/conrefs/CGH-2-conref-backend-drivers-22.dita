<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE oXygen:ReusableComponent [
<!ELEMENT oXygen:ReusableComponent (oXygen:ComponentDescription, oXygen:ComponentDefinition)>
<!ATTLIST oXygen:ReusableComponent 
    xmlns:oXygen CDATA #FIXED "http://www.oxygenxml.com/ns/dita/reuse" 
    id CDATA #IMPLIED
    domains CDATA "(topic hi-d)                             (topic ut-d)                             (topic indexing-d)                            (topic hazard-d)                            (topic abbrev-d)                            (topic pr-d)                             (topic sw-d)                            (topic ui-d)     (topic oXygen-reuse-d) "
    class CDATA "- topic/topic oXygen:ReusableComponent/oXygen:ReusableComponent "    
    xmlns:ditaarch CDATA #FIXED "http://dita.oasis-open.org/architecture/2005/"
    ditaarch:DITAArchVersion CDATA #FIXED "1.2" 
    >
<!ELEMENT oXygen:ComponentDescription (#PCDATA)>
<!ATTLIST oXygen:ComponentDescription 
 class CDATA "- topic/title oXygen:ReusableComponent/oXygen:ComponentDescription ">
<!ELEMENT oXygen:ComponentDefinition ANY>
<!ATTLIST oXygen:ComponentDefinition
    class CDATA "- topic/body oXygen:ReusableComponent/oXygen:ComponentDefinition ">

<!ENTITY % dtd PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd">
%dtd;

]>
<oXygen:ReusableComponent id="ReusableComponent_fd1_hbx_vt">
    <oXygen:ComponentDescription>Backend Drivers</oXygen:ComponentDescription>
    <oXygen:ComponentDefinition><section id="back-end"><title>Configure the back-end drivers</title><p>Configure the back-end drivers to enable management of the OpenStack Block Storage volumes on vCenter-managed data stores and 3PAR and/or VSA storage arrays. The HP Block Storage (Cinder) service allows you to configure multiple storage back-ends. Use the following steps to configure back-end support:</p><ol id="ul_btr_l52_xs"><li>Change to the <codeph>/cinder/blocks</codeph> directory: <codeblock>cd ~/&lt;cloudname>/services/cinder/blocks</codeblock> Where <codeph>&lt;cloudname></codeph> is the name you assigned to the cloud. The directory contains several sample Cinder configuration files that you can edit, depending upon which storage method(s) you are using.</li><li>Depending upon the type of storage you are using, edit the <codeph>cinder_conf.multiBackendSample</codeph> file. This sample file provides all the variables needed to use ESX in the non-KVM region and HP StoreVirtual VSA and/or HP StoreServ (3PAR) attched to the KVM region.<p>Use the <codeph>enabled_backends</codeph> variable to list each of the back-ends you are using. You must specify at least one back-end for the non-KVM region and one or more for the KVM region.</p><table><tgroup cols="3"><colspec colname="col1" colsep="1" rowsep="1"/><colspec colname="col2" colsep="1" rowsep="1"/><colspec colname="col3" colsep="1" rowsep="1"/><thead><row><entry colsep="1" rowsep="1">Region/Hypervisor</entry><entry colsep="1" rowsep="1">Volume Backend</entry><entry colsep="1" rowsep="1">Backend Name</entry></row></thead><tbody><row><entry>KVM</entry><entry>3PAR </entry><entry>hp3par</entry></row><row><entry>KVM</entry><entry>VSA</entry><entry>hplefthand</entry></row><row><entry>Non-KVM </entry><entry>ESX Datastores</entry><entry>vmdk </entry></row></tbody></tgroup></table><p><b>Note:</b> You can use either 3PAR and VSA in the KVM region or select both if you have respective storage arrays </p><p id="storage">A typical <codeph>cinder_conf</codeph> that enables all three back ends appears similar to the following example:</p><codeblock>[DEFAULT]
enabled_backends=vmdk, hp3par, hplefthand
...                                
          
[hp3par]
volume_backend_name=&lt;mybackendname1>
hp3par_api_url=https://&lt;management_ip>:8080/api/v1
hp3par_username=&lt;username>
hp3par_password=&lt;password>
hp3par_cpg=&lt;cpg>
san_ip=&lt;san_ip>
san_login=&lt;username>
san_password=&lt;password>
hp3par_iscsi_ips=&lt;iscsi_target_ips seperated by ,>
volume_driver=cinder.volume.drivers.san.hp.hp_3par_iscsi.HP3PARISCSIDriver
hp3par_debug=False
hp3par_iscsi_chap_enabled=false
hp3par_snapshot_retention=48
hp3par_snapshot_expiration=72
                            
[hplefthand]
volume_backend_name=&lt;mybackendname2>
hplefthand_username = &lt;username>
hplefthand_password = &lt;password>
hplefthand_clustername = &lt;Cluster Name>
hplefthand_api_url = https://&lt;Iscsi Virtual IP address>/lhos 
volume_driver = cinder.volume.drivers.san.hp.hp_lefthand_iscsi.HPLeftHandISCSIDriver
hplefthand_debug = false

[vmdk]
volume_backend_name = &lt;mybackendname3>
vmware_host_ip = &lt;hostip>
vmware_host_username = &lt;username>
vmware_host_password = &lt;password>
#vmware_volume_folder = &lt;volumes_folder>
#vmware_image_transfer_timeout_secs = 7200
#vmware_task_poll_interval = 0.5
#vmware_max_objects_retrieval = 100
volume_driver = cinder.volume.drivers.vmware.vmdk.VMwareVcVmdkDriver</codeblock></li><li>Save the file to <codeph>cinder_conf</codeph>.</li></ol></section></oXygen:ComponentDefinition>
</oXygen:ReusableComponent>